@use 'src/styles/site' as *
@use 'src/builder/admin.sass' as *

.Main
  display: flex
  flex-direction: row
.ComponentPreview
  position: relative
  overflow: hidden
  background: var(--builder-gray-f4)
  padding: var(--builder-input-padding)
  border-radius: var(--builder-border-radius)
.AdminPanel
  position: relative
  -webkit-user-select: none
  -ms-user-select: none
  user-select: none
  width: var(--builder-panel-size)
  height: 100vh//calc(100vh - size(32))
  overflow: hidden
  @extend %admin-panel
  z-index: 100
  border-right: 1px solid var(--builder-section-border)

  .PanelHeader
    > div
      display: flex
      align-items: center
      justify-content: space-between
      padding: var(--builder-padding)
      border-bottom: 1px solid var(--builder-section-border)
      height: size(48)
      background: var(--builder-white)
      
  &.rightSide
    width: size(320)
    border-right: none
    border-left: 1px solid var(--builder-section-border)
    overflow: hidden
  &.propEditor
    position: fixed
    top: var(--builder-side-offset)
    right: var(--builder-side-offset)
    width: size(296)
    border-right: none
    border-left: 1px solid var(--builder-section-border)
    box-shadow: -12px 0 24px -8px var(--black-a12)
  &.globalSettings
    // position: fixed
    top: var(--builder-side-offset)
    right: var(--builder-side-offset)
    z-index: 90
  &.phoneSettings
    position: fixed
    top: var(--builder-side-offset)
    right: var(--builder-side-offset)
    z-index: 95
  &.toolbarPanel
    // position: fixed
    // top: 0
    // right: 0
    width: size(48)
    border-left: 1px solid var(--builder-section-border)
    border-right: none
    z-index: 500
    overflow: visible
  &.JsonPanel
    display: flex
    flex-direction: column
    background-color: var(--builder-dark-bg)
    color: var(--builder-dark-text)
    .PanelHeader
      background-color: var(--builder-dark-bg)
      color: var(--builder-dark-text)
      border-bottom: 1px solid var(--builder-dark-border)
      .actions
        display: flex
        gap: size(4)
    pre
      font-family: monospace
      font-size: var(--builder-font-size-s)
.JsonModal
  width: 80vw
  max-width: size(700)
  max-height: 80vh
  display: flex
  flex-direction: column
  align-content: start
.JsonModalContent
  display: flex
  flex-direction: column
  flex: 1
  min-height: 0
  position: relative
.JsonModalActions
  position: absolute
  top: var(--builder-padding)
  right: var(--builder-padding)
.JsonModalScroll
  flex: 1
  overflow-y: auto
  overflow-x: auto
  padding: var(--builder-padding)
  pre
    font-family: monospace
    font-size: var(--builder-font-size-s)
    margin: 0
    white-space: pre-wrap
    word-wrap: break-word
  .PanelHeader
    display: flex
    align-items: center
    justify-content: space-between
    padding: var(--builder-padding)
    border-bottom: 1px solid var(--builder-section-border)
    height: size(48)
    background: var(--builder-white)
    position: sticky
    z-index: 10000
    top: 0
    > div
      display: flex
      flex: 1
      align-items: center
      justify-content: space-between
      gap: var(--builder-input-padding)
    h2
      @extend %medium
      font-size: var(--builder-font-size-xl)
.Tools
  display: flex
  flex-direction: column
  height: 100%
  width: 100%
.PhonePreview
  position: relative
  width: var(--view-width)
  height: var(--view-height)
  background: var(--color-background)
  border: 8px solid black
  border-radius: 40px
  overflow: hidden
  display: flex
  flex-direction: column
  // padding-top: $view-offset-top
  box-shadow: rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px
  transition: outline, transform 0.2s
  will-change: transform, box-shadow
.PagePreview
  width: 100%
  height: 100%
  flex: 1
  overflow-y: scroll
  display: flex
  flex-direction: column
  padding-bottom: $view-offset-base
  padding-top: size(47)
  &.offset
    padding-top: size(99)
.DroppedComponent
  position: relative

.DroppedCard
  border-radius: 8px
  //background: var(--color-background)
  position: relative
  transition: box-shadow 0.2s
  cursor: grab
  position: relative
  &::after
    content: ""
    position: absolute
    top: 0
    left: size(8)
    right: size(8)
    bottom: 0
    //border: 3px solid $light-gray
    background: var(--component-highlight)
    border-radius: size(8)
    display: none
  &:hover
    &::after
      display: block

.Highlighted
  // Additional highlighting styles can be added here if needed
.PanelBox
  border-top: 1px solid var(--builder-section-border)
  h4
    @extend %bold
    font-size: var(--builder-font-size-l)
    margin-bottom: size(24)
.Input
  margin: size(8) 0
  width: 100%
  input, select
    @extend %input-field
  label
    @extend %input-label
.EmptyState
  color: var(--builder-gray-888)
  font-style: italic
  text-align: center
  padding: 16px
.Selected
  &:after
    border: 2px solid var(--builder-brand-highlight)
    display: block
.ComponentNameOverlay
  position: absolute
  top: size(4)
  right: size(12)
  background: var(--black-a75)
  color: var(--builder-white)
  padding: size(4) size(8)
  border-radius: var(--builder-border-radius)
  font-size: var(--builder-font-size-s)
  @extend %medium
  text-align: center
  z-index: 1000
.PropEditor
  height: 100%
  overflow-y: scroll
  .Fields
    padding: 0 var(--builder-padding) size(80) var(--builder-padding)
.ArrayOptionsHeader
  display: flex
  align-items: center
  justify-content: space-between
  padding: size(16) 0 size(8) 0
  h3
    @extend %bold
    font-size: var(--builder-font-size-l)
// ArrayEditor item box
.ArrayItemBox
  border: 1px solid var(--builder-section-border)
  border-radius: var(--builder-wrapper-border-radius)
  margin-bottom: 16px
  background: var(--builder-white)
  .content
    padding: var(--builder-input-padding) var(--builder-padding)
    border-top: 1px solid var(--builder-section-border)
  &:not(&.Open)
    header:hover
      background: var(--builder-gray-f4)
  header
    display: flex
    align-items: center
    justify-content: space-between
    padding: 8px 8px 8px 16px
  .HeaderTitle
    display: flex
    align-items: center
    gap: size(8)
  .chevron
    transition: transform 0.2s ease
    transform: rotate(-90deg)
    transform-origin: center center
    &.open
      transform: rotate(0deg)
  h4
    @extend %bold
    font-size: var(--builder-font-size-m)
.ToolBarVertical
  display: flex
  flex-direction: column
  align-items: center
  gap: size(4)
  padding: var(--builder-input-padding)
  height: 100%
  justify-content: space-between
.ToolBarTopSection
  display: flex
  flex-direction: column
  gap: var(--builder-input-padding)
.ToolBarZoomSection
  display: flex
  flex-direction: column
  gap: size(1)
  padding-bottom: var(--builder-input-padding)
.AdminToggle
  position: fixed
  top: var(--builder-input-padding)
  left: var(--builder-input-padding)
  background: var(--builder-gray-f4)
  border-radius: size(8)
  z-index: 200
.Controls
  flex: 1
  h5
    @extend %bold
    font-size: var(--builder-font-size-m)
    text-transform: uppercase
    padding: var(--builder-padding) var(--builder-padding) 0 var(--builder-padding)
.ToastContainer
  position: absolute
  bottom: size(32)
  left: 0
  right: 0
.resizing
  // This class is added when hovering or dragging the resize edge
  // The border color is set inline, but you can add more feedback here if desired